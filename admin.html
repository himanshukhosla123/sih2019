<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title></title>

  <!-- Bootstrap core CSS -->
  <!-- <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"> -->

  <!-- Custom styles for this template -->
  <link href="simple-sidebar.css" rel="stylesheet">

  <script src="/socket.io/socket.io.js"></script>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script> -->
  <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase.js"></script>  
  <link rel="stylesheet" href="http://fellowapp.co/assets/css/font-awesome.min.css">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
  <style>
   .rounded{
     width: 10em;
     margin-right: 0;
   }
   .bg-light1{
     width: 20%;
   }
   #sidebar-wrapper{
     padding: 10px;
   }
   .nav-pills{
     padding-left: 1em;
   }
   .none{
     display: none !important;
   }
   .card-title{
     color: red;
     text-transform:  uppercase;
     font-weight: bold;
     font-size: 1.5em;
   }
   .card-title1{
     text-transform:  uppercase;
     font-weight: bold;
     font-size: 1em;
   }
.bg-light{
  padding: 15px;
  border: 0px;
  margin-bottom: 10px;
}
a.bg-light.active{
  background-color:#1F6EB5 !important;
  color: white !important;
}
.cand-box{
  width: 100%;
  padding-right: 5%;
  padding-left: 5%;
  margin: 5%;
}
.cand-name{
  text-transform: uppercase;
  font-weight: bold;
  letter-spacing: 2px;
  color: black;
}
.cand-box-header{
 background-color:lightblue;
 color: rgba(0,0,0,0.6);
 padding: 3px;
 text-transform: uppercase;

}
.btn-custom{
  background-color: lightblue;
  color: white;
  padding: 2px;
  border: 1px solid aqua;
  text-transform: uppercase;

}

.person {
    border: 10px solid transparent;
    margin-bottom: 25px;
    width: 80%;
    height: 80%;
    opacity: 0.7;
  }
  .person:hover {
    border-color: #f1f1f1;
  }
  

  .list-group-item:first-child {
    border-top-right-radius: 0;
    border-top-left-radius: 0;
  }
  .list-group-item:last-child {
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 0;
  }
  .thumbnail {
    padding: 0 0 15px 0;
    border: none;
    border-radius: 0;
  }
  .thumbnail p {
    margin-top: 15px;
    color: #555;
  }
  .btn {
    padding: 10px 20px;
    background-color: #333;
    color: #f1f1f1;
    border-radius: 0;
    transition: .2s;
  }
  .btn:hover, .btn:focus {
    border: 1px solid #333;
    background-color: #fff;
    color: #000;
  }
  </style>
  
</head>

<body>

  <div class="d-flex" style="display: flex!important;" id="wrapper">

    <!-- Sidebar -->
    <div class="bg-light border-right" id="sidebar-wrapper">
      
      <div class="list-group list-group-flush" style="padding-top: 50px;">
          
        <a href="#" class="list-group-item list-group-item-action bg-light active"
        id="presentation"
        onclick='showPresentation()'       
        >Presentation</a>
        <a href="#" class="list-group-item list-group-item-action bg-light"
        id="leads"
        onclick='showLeads()'
        >Leads</a>
        <a href="#" class="list-group-item list-group-item-action bg-light"
        id="recommendation"        
        onclick='showRecommendation()'
        >Recommendations</a>
        <!-- <a href="#" class="list-group-item list-group-item-action bg-light">Events</a>
        <a href="#" class="list-group-item list-group-item-action bg-light">Profile</a>
        <a href="#" class="list-group-item list-group-item-action bg-light">Status</a> -->
      </div>
    </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
    <div id="page-content-wrapper">

      <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
        <!-- <button class="btn btn-primary" id="menu-toggle">Toggle Menu</button>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button> -->

        <div class="collapse navbar-collapse" id="navbarSupportedContent"  style="background: blue;color:white;">
          <ul class="navbar-nav ml-auto mt-2 mt-lg-0">
            <li class="nav-item active">
              <a class="nav-link" href="#"  style="background: blue;color:white;">Future Generali Lead Dashboard <span class="sr-only">(current)</span></a>
            </li>
            <!-- <li class="nav-item">
              <a class="nav-link" href="#">Link</a>
            </li> -->
          </ul>
        </div>
      </nav>

      <div class="container-fluid">
       
          <div class="d-flex" id="wrapper">

          <div class="bg-light1 border-right" id="sidebar-wrapper" style="max-height:calc(100vh - 65px); overflow-y: auto;padding-top: 15px;">
            <div class="list-group list-group-flush images">
              <a href="#" class="list-group-item list-group-item-action bg-light text-center">
                <img
                src="./img/fg4.png"
                alt="" class="rounded">
              </a>
              <a href="#" class="list-group-item list-group-item-action bg-light text-center">
                <img
                src="./img/fg3.png"
                alt="" class="rounded">
              </a>
              <a href="#" class="list-group-item list-group-item-action bg-light text-center">
                <img
                src="./img/fg2.png"
                alt="" class="rounded">
              </a>
              <a href="#" class="list-group-item list-group-item-action bg-light text-center">
                <img
                src="./img/fg1.png"
                alt="" class="rounded">
              </a>
              <a href="#" class="list-group-item list-group-item-action bg-light text-center">
                <img
                  src="./img/future generali.png"
                  alt="" class="rounded">
              </a>
            </div>
          </div>
          <div id="page-content-wrapper" style="width: 100%;min-height:600px;">
          <div class="row" style="">
              <div class="container text-center col-8">
                  
                  <ul class="nav nav-pills">
                      <li role="presentation" class="active" onclick="showPresentation()"><a href="#">Presentation</a></li>
                      <li role="presentation"><a href="#" onclick="showScribble()">Scribble Pad</a></li>
                  </ul>
                <div class="text-center" style="margin-top: 30px;background-color:rgba(0,0,0,0.2)">
                  <img src="" class="" alt="" id="output" style="border:2px solid #ccc;width: 100%;min-height: 400px;">
                </div>
              </div>
              <div class="container-fluid text-center col-4">
                <div class="card" style="width: 90%;">
                    <img src="" class="card-img-top" >
                      <div class="card-body">
                        <img src="./img/user.jpg" style="width: 10em; border-radius: 50%;">
                      <h5 class="card-title">Ramesh Mehta</h5>
                      <h6 class = "card-title1">Contact number: 9898989898</h6>
                      <p class="card-text">Interested for life insurance</p>
                    </div>
                </div>
              </div>
          </div>
          </div>
          </div>
          
          <div class="d-flex" id="wrapper2">
          
              <div>
              <ul class="nav nav-pills">
                <li role="presentation" class="active" onclick="showPresentation()"><a href="#">Presentation</a></li>
                <li role="presentation"><a href="#" onclick="showScribble()">Scribble Pad</a></li>
              </ul>
              <div id="tab2">
                <!-- <canvas class="whiteboard"></canvas> -->
                <iframe src="https://pacific-dawn-15009.herokuapp.com/" width="1200px" height="500px"></iframe>
                    
    
                <div class="colors">
                  <div class="color black"></div>
                  <div class="color red"></div>
                  <div class="color green"></div>
                  <div class="color blue"></div>
                  <div class="color yellow"></div>
                </div>
              </div>
            </div>
            </div>
    
          

          <div class="d-flex" id="wrapper3">
          <h2>Leads</h2>  
          </div>

          <div class="d-flex" id="wrapper4" style="background-color: rgba(0,0,0,0.7)">
           <!-- Container (recomendation Section) -->
<div id="tour" class="bg-1">
  <div class="container">
    <h3 class="text-center" style="color:white">RECOMENDATIONS FOR YOU</h3>
    <p class="text-center" style="color:white">Plan your future with future generali. <br> Check out our policy plans.</p>
    <ul class="list-group">
      <li class="list-group-item">Enter customer name </li> 
      <li class="list-group-item">Enter customer age<span class="badge">10</span></li>  
      <li class="list-group-item">Is he/she married?<span class="badge">8</span></li> 
      <li class="list-group-item">Is she/he having a child?<span class="badge">2</span></li> 
      <button class="btn">Explore plans</button>
    </ul>

    <h3 class="text-center" style="color:white; font-family: 'Roboto',sans">RECOMENDED POLICIES FOR CUSTOMER</h3>
    
    <div class="row text-center" style="margin-top:10%;" id="recom">
      <div class="col-sm-4">
        <div class="thumbnail">
          <img src="./img/policy1.png" alt="Paris" width="400" height="300">
          <p><strong>TRIPLE ADVANTAGE PLAN</strong></p>
          <button class="btn">Extra features</button>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="thumbnail">
          <img src="./img/policy1.png" alt="New York" width="400" height="300">
          <p><strong>5 YEAR PLAN</strong></p>
          <button class="btn">Extra features</button>
        </div>
      </div>
     
      <div class="col-sm-4">
        <div class="thumbnail">
          <img src="./img/policy1.png" alt="New York" width="400" height="300">
          <p><strong>COUPLE ORIENTED PLAN</strong></p>
          <button class="btn">Extra features</button>
        </div>
      </div>
    </div>
  </div>
  
          </div>
      
      </div>
    </div>
    <!-- /#page-content-wrapper -->

  </div>

   <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal"
   style="position:fixed;bottom:25px;right:25px;"
   >
    <!-- <img src="" alt=""> -->
    selfie
    </button>
    
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <!-- <h4 class="modal-title" id="myModalLabel">Modal title</h4> -->
          </div>
          <div class="modal-body">
                <div class="head text-center" style="background-color: lightblue">
                  <h2 style="text-transform: uppercase; letter-spacing: 1px; font-weight: bold; padding: 5%; font-family: arial;"> Get Quote from a selfie </h2>
                </div> 
               <div class="row">
               
                  <div class="col-sm-12" style="text-align: center;">
                      <img src="user.png" id="cam-img" style=" width:20%; position: relative;">
                      <!-- <button  onclick="$('#my-file').click();">Upload a selfie</button> -->
                      <input id="img-btn" type="file" onclick="" placeholder="Upload a selfie"/>
                </div>
                <div class="col-xs-12 text-center">
                  <i class="fa fa-spinner fa-spin"></i>
                </div>
                <div class="col-sm-12">     
                <div class="form-group">
                   <input type="text" class="form-control" id="usr" placeholder="Enter name">
                 </div>
                 <div class="form-group">
                   <input type="text" class="form-control" id="phno" placeholder="Enter Mobile Number">
                 </div>
                 <div class="form-group">
                       <input type="text" class="form-control" id="sex" placeholder="Male/Female">
                  </div>
                  <div class="form-group">
                        <input type="text" class="form-control" id="age" placeholder="Age">
                   </div>
                  <div class="form-group">
                    <input type="text" class="form-control" id="income" placeholder="average income">
                  </div>
       
                  <button id="btn" onclick="getGender2()">Submit</button>
                  </div>
               </div>
               <style>
                  .form-group{
                      font-size: 20px;
                      color: black;
                      text-transform: uppercase;
                      letter-spacing: 1px;
                      margin: 5px;
                      font-weight: bold;
                      
                  }
                  input{
                      padding: 1%;
                      margin: 1%;
                      border: 1px solid black;
                  }
                  ::placeholder{
                      text-transform: uppercase;
                      letter-spacing: 2px;
                  }
                  input:hover{
                      border: 2px solid blue;
                  }
                  #btn{
                      background-color: lightblue;
                      padding: 0.5%;
                      color: white;
                      text-transform: uppercase;
                      letter-spacing:  2px;
                      margin: 1%;
                      width: 30%;
                      border: 1px solid lightblue;
                      
                  }
                  #btn:hover{
                      border: 1px solid blue;
                      font-weight:bold;
                  }
                  
              </style>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="getRecommendation()">Get Recommendations</button>
          </div>
        </div>
      </div>
    </div>
  <!-- /#wrapper -->


  <!-- Menu Toggle Script -->
  
  <script src="./js/leads.js"></script>

  <!-- <script src="./js/recommendation.js"></script> -->

  <script>
    $("#menu-toggle").click(function(e) {
      e.preventDefault();
      $("#wrapper").toggleClass("toggled");
    });
	
	// Get WebSocket
    const config = {
      apiKey: "AIzaSyAxmadWMfKFDoqTbC0IMZuBSDj3L8Bb4Wo",
      authDomain: "chatappweb-d9fae.firebaseapp.com",
      databaseURL: "https://chatappweb-d9fae.firebaseio.com",
      projectId: "chatappweb-d9fae",
      storageBucket: "",
      messagingSenderId: "715692354306"
    };
    firebase.initializeApp(config);
    var x = document.getElementsByClassName("list-group-item");
    var output = document.getElementById("output");
    let db=firebase.database();
    let messagesRef=db.ref("fg/slides/1");
    const promise=firebase.auth().signInWithEmailAndPassword(
      "ashfaq@vlsconsulting.in"
      ,"9941323267"
    );
    promise.then((data)=>{
      console.log("login done",data);
      // if(this.state.urlValid)
    },(error)=>console.log(error));
    
    showPresentation();
    $(".images img").click(function(){
        console.log(this.src)
        var url=this.src;
        output.src=url;
        messagesRef.push({
            url:url,
            title:"",
        });
    });
    function showPresentation(){
      $(".list-group-item.active").removeClass("active");
      $("#presentation").addClass("active");      
      $(".d-flex").addClass("none");
      $(".d-flex#wrapper").removeClass("none");
    }
    function showLeads(){
      $(".list-group-item.active").toggleClass("active"); 
      $("#leads").addClass("active");     
      $(".d-flex").addClass("none");
      $(".d-flex#wrapper3").removeClass("none");
      loadLeads();
    }
    function showRecommendation(){
      $(".list-group-item.active").toggleClass("active"); 
      $("#recommendation").addClass("active");    
      $(".d-flex").addClass("none");
      $(".d-flex#wrapper4").removeClass("none");  
    }
    function showScribble(){
      $("#presentation").addClass("active"); 
      $(".d-flex").addClass("none");
      $(".d-flex#wrapper2").removeClass("none");  
    
    }
    var canvas = document.getElementsByClassName('whiteboard')[0];
    var colors = document.getElementsByClassName('color');
    var context = canvas.getContext('2d');

    var current = {
      color: 'black'
    };
    var drawing = false;

    canvas.addEventListener('mousedown', onMouseDown, false);
    canvas.addEventListener('mouseup', onMouseUp, false);
    canvas.addEventListener('mouseout', onMouseUp, false);
    canvas.addEventListener('mousemove', throttle(onMouseMove, 10), false);

    //Touch support for mobile devices
    canvas.addEventListener('touchstart', onMouseDown, false);
    canvas.addEventListener('touchend', onMouseUp, false);
    canvas.addEventListener('touchcancel', onMouseUp, false);
    canvas.addEventListener('touchmove', throttle(onMouseMove, 10), false);

    for (var i = 0; i < colors.length; i++) {
      colors[i].addEventListener('click', onColorUpdate, false);
    }

    //socket.on('drawing', onDrawingEvent);

    window.addEventListener('resize', onResize, false);
    onResize();

    let messagesRef2 = db.ref("fg/scribble");
    function drawLine(x0, y0, x1, y1, color) {
      context.beginPath();
      context.moveTo(x0, y0);
      context.lineTo(x1, y1);
      context.strokeStyle = color;
      context.lineWidth = 2;
      context.stroke();
      context.closePath();

      // if (!emit) { return; }
      var w = canvas.width;
      var h = canvas.height;


      console.log('In scribble');
      messagesRef2.push({
        x0: x0 / w,
        y0: y0 / h,
        x1: x1 / w,
        y1: y1 / h,
        color: color
      });
      console.log(messagesRef2);

      // socket.emit('drawing', {
      //   x0: x0 / w,
      //   y0: y0 / h,
      //   x1: x1 / w,
      //   y1: y1 / h,
      //   color: color
      // });
    }

    function onMouseDown(e) {
      drawing = true;
      current.x = e.clientX || e.touches[0].clientX;
      current.y = e.clientY || e.touches[0].clientY;
    }

    function onMouseUp(e) {
      if (!drawing) { return; }
      drawing = false;
      drawLine(current.x, current.y, e.clientX || e.touches[0].clientX, e.clientY || e.touches[0].clientY, current.color, true);
    }

    function onMouseMove(e) {
      if (!drawing) { return; }
      drawLine(current.x, current.y, e.clientX || e.touches[0].clientX, e.clientY || e.touches[0].clientY, current.color, true);
      current.x = e.clientX || e.touches[0].clientX;
      current.y = e.clientY || e.touches[0].clientY;
    }

    function onColorUpdate(e) {
      current.color = e.target.className.split(' ')[1];
    }

    // limit the number of events per second
    function throttle(callback, delay) {
      var previousCall = new Date().getTime();
      return function () {
        var time = new Date().getTime();

        if ((time - previousCall) >= delay) {
          previousCall = time;
          callback.apply(null, arguments);
        }
      };
    }

    function onDrawingEvent(data) {
      var w = canvas.width;
      var h = canvas.height;
      drawLine(data.x0 * w, data.y0 * h, data.x1 * w, data.y1 * h, data.color);
    }

    // make the canvas fill its parent
    function onResize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }

  </script>
</body>

</html>
